"use strict";(self.webpackChunksocial_glot=self.webpackChunksocial_glot||[]).push([[560],{5560:function(n,e,i){i.r(e),i.d(e,{default:function(){return z}});var r=i(2791),t=i(6434),l="Friends_list__JvgtZ",o="Friends_preloaderPosition__Jzo8e",s=i(2198),a=i(8328),c=i(8683),d=i(885),u="Pagination_pagination__rMtZe",f="Pagination_selected__m0SkL",h="Pagination_leftArrow__0S1CY",m="Pagination_rightArrow__5S+y9",g=i(184),x=function(n){for(var e=n.totalUsersCount,i=n.pageSize,t=n.currentPage,l=n.onPageChanged,o=n.portionSize,s=void 0===o?5:o,a=Math.ceil(e/i),c=[],x=1;x<=a;x++)c.push(x);var j=Math.ceil(e/s),v=(0,r.useState)(1),_=(0,d.Z)(v,2),p=_[0],w=_[1],C=(p-1)*s+1,N=p*s;return(0,g.jsxs)("div",{className:u,children:[p>1&&(0,g.jsx)("a",{className:h,onClick:function(){w(p-1),l((p-2)*s+1)}}),c.filter((function(n){return n>=C&&n<=N})).map((function(n,e){return(0,g.jsx)("a",{className:t===n?f:"",onClick:function(){return l(n)},children:n},e)})),j>p&&(0,g.jsx)("a",{className:m,onClick:function(){w(p+1),l(p*s+1)}})]})},j="FriendCard_card__1qAAX",v="FriendCard_friendInfo__h-wK2",_="FriendCard_head__nQHrJ",p=i(3504),w=i(2589),C=function(n){var e=n.user,i=n.followingInProgress,r=n.unfollow,t=n.follow;return(0,g.jsxs)("div",{className:j,children:[(0,g.jsx)(p.OL,{to:"/profile/"+e.id,children:(0,g.jsx)("img",{src:null!=e.photos.small?e.photos.small:w})}),(0,g.jsxs)("div",{className:v,children:[(0,g.jsxs)("div",{className:_,children:[(0,g.jsx)("h3",{children:e.name}),(0,g.jsx)("div",{children:e.followed?(0,g.jsx)("button",{disabled:i.some((function(n){return n===e.id})),onClick:function(){r(e.id)},children:"Unfollow"}):(0,g.jsx)("button",{disabled:i.some((function(n){return n===e.id})),onClick:function(){t(e.id)},children:"Follow"})})]}),(0,g.jsx)("i",{children:null!=e.status?e.status:""})]})]})},N=i(7467),Z=i(5705),b=i(7942),F=b.Ry().shape({term:b.Z_().min(1,"")}),P=r.memo((function(n){var e=(0,t.v9)(a.xY);return(0,g.jsx)(Z.J9,{enableReinitialize:!0,initialValues:{term:e.term,friend:e.friend},validationSchema:F,onSubmit:function(e){n.onFilterChanged(e)},children:function(n){n.errors;return(0,g.jsxs)(Z.l0,{className:N.Z.search,children:[(0,g.jsx)(Z.gN,{name:"term",type:"text",placeholder:"Find somebody..."}),(0,g.jsxs)(Z.gN,{name:"friend",as:"select",children:[(0,g.jsx)("option",{value:"",children:"All"}),(0,g.jsx)("option",{value:"true",children:"Only followed"}),(0,g.jsx)("option",{value:"false",children:"Only unfollowed"})]}),(0,g.jsx)("button",{type:"submit",children:"Find"})]})}})})),k=i(5571),S=function(n){var e=(0,t.v9)(a.sw),i=(0,t.v9)(a.qZ),o=(0,t.v9)(a.FZ),s=(0,t.v9)(a.b7),u=(0,t.v9)(a.xY),f=(0,t.v9)(a.yg),h=(0,t.I0)(),m=(0,p.lr)(),j=(0,d.Z)(m,2),v=j[0],_=j[1],w=function(n){h((0,k.ZN)(n))},N=function(n){h((0,k.fv)(n))};return(0,r.useEffect)((function(){var n=v.get("term"),e=v.get("friend"),i=v.get("page"),r=o,t=u;i&&(r=+i),n&&(t=(0,c.Z)((0,c.Z)({},t),{},{term:n})),e&&(t=(0,c.Z)((0,c.Z)({},t),{},{friend:"null"===e?null:"true"===e})),h((0,k.Rf)(r,s,t))}),[]),(0,r.useEffect)((function(){_("?term=".concat(u.term,"&friend=").concat(u.friend,"&page=").concat(o))}),[u,o]),(0,g.jsxs)("div",{children:[(0,g.jsx)("h1",{children:"Friends"}),(0,g.jsx)(P,{onFilterChanged:function(n){h((0,k.Rf)(1,s,n))}}),(0,g.jsx)("div",{className:l,children:e.map((function(n){return(0,g.jsx)(C,{user:n,followingInProgress:f,unfollow:N,follow:w},n.id)}))}),(0,g.jsx)(x,{totalUsersCount:i,pageSize:s,currentPage:o,onPageChanged:function(n){h((0,k.Rf)(n,s,u)),k.Nw.setCurrentPage(n)}})]})},y=i(6871),z=function(n){var e=(0,t.v9)(a.ab);return(0,t.v9)(a.Od)?(0,g.jsxs)("div",{className:o,children:[e?(0,g.jsx)(s.Z,{}):null,(0,g.jsx)(S,{})]}):(0,g.jsx)(y.Fg,{to:"/login"})}}}]);
//# sourceMappingURL=560.70c693f3.chunk.js.map